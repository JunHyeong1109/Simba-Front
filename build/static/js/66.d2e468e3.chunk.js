"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[66],{66:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(338),t=a(379),n=a(43),i=a(674),r=a(579);function d(){const e=(0,l.Zp)(),[s,a]=(0,n.useState)([]),[d,o]=(0,n.useState)(!0),[c,p]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=!0;return(async()=>{try{o(!0),p("");const{data:s}=await i.Ay.get("/itda/stores"),l=Array.isArray(s)?s:(null===s||void 0===s?void 0:s.items)||[];if(!e)return;const n=l.map(e=>(0,t.A)((0,t.A)({},e),{},{latitude:"string"===typeof e.latitude?Number(e.latitude):e.latitude,longitude:"string"===typeof e.longitude?Number(e.longitude):e.longitude}));a(n)}catch(n){var s,l;if(!e)return;p((null===n||void 0===n||null===(s=n.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"\ub9e4\uc7a5 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),a([])}finally{e&&o(!1)}})(),()=>{e=!1}},[]);const x=e=>{const s=String(null!==e&&void 0!==e?e:"").replace(/\D/g,"");return 10===s.length?"".concat(s.slice(0,3),"-").concat(s.slice(3,5),"-").concat(s.slice(5)):e||"-"},u=()=>{e("/edit")},h=s=>{e("/edit/".concat(s.id),{state:s})};return(0,r.jsxs)("div",{className:"manage-shop-wrap",style:{maxWidth:960,margin:"0 auto",padding:16},children:[(0,r.jsxs)("div",{className:"manage-shop-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,r.jsx)("h2",{style:{margin:0},children:"\ub0b4 \ub9e4\uc7a5 \uad00\ub9ac"}),(0,r.jsx)("button",{className:"btn",onClick:u,style:{padding:"8px 12px",borderRadius:8},children:"\ub9e4\uc7a5 \ucd94\uac00"})]}),d&&(0,r.jsx)("div",{className:"placeholder",style:{padding:12,background:"#f8f9fa",borderRadius:8},children:"\ubd88\ub7ec\uc624\ub294 \uc911..."}),!d&&c&&(0,r.jsx)("div",{className:"placeholder error",style:{padding:12,background:"#fff4f4",border:"1px solid #ffd5d5",borderRadius:8,color:"#c00"},children:c}),!d&&!c&&0===s.length&&(0,r.jsxs)("div",{className:"placeholder",style:{padding:12,background:"#f8f9fa",border:"1px solid #eee",borderRadius:8},children:["\ub4f1\ub85d\ub41c \ub9e4\uc7a5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,r.jsx)("button",{className:"btn",onClick:u,style:{marginLeft:8,padding:"6px 10px",borderRadius:8},children:"\uc9c0\uae08 \ucd94\uac00\ud558\uae30"})]}),(0,r.jsx)("div",{className:"manage-shop-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:s.map(e=>{return(0,r.jsxs)("div",{className:"shop-card",role:"button",tabIndex:0,onClick:()=>h(e),onKeyDown:s=>"Enter"===s.key&&h(e),style:{background:"#fff",border:"1px solid #eee",borderRadius:12,padding:12,cursor:"pointer",transition:"box-shadow .2s, transform .05s"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,.08)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",children:[(0,r.jsxs)("div",{className:"shop-card-title",style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[(0,r.jsx)("span",{className:"shop-name",style:{fontWeight:700,fontSize:16},children:e.name||"-"}),e.category&&(0,r.jsx)("span",{className:"shop-category",style:{fontSize:12,color:"#555",background:"#f1f3f5",borderRadius:999,padding:"2px 8px"},children:(s=e.category,{CAFE:"\uce74\ud398",RESTAURANT:"\uc2dd\ub2f9",ETC:"\uae30\ud0c0",0:"\uce74\ud398",1:"\uc2dd\ub2f9",2:"\uae30\ud0c0"}[s]||s||"-")})]}),(0,r.jsxs)("div",{className:"shop-meta",style:{display:"flex",gap:8,fontSize:14,margin:"4px 0"},children:[(0,r.jsx)("span",{className:"label",style:{width:88,color:"#777",flex:"0 0 88px"},children:"\ub300\ud45c\uba85"}),(0,r.jsx)("span",{className:"value",style:{color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.ownerName||"-"})]}),(0,r.jsxs)("div",{className:"shop-meta",style:{display:"flex",gap:8,fontSize:14,margin:"4px 0"},children:[(0,r.jsx)("span",{className:"label",style:{width:88,color:"#777",flex:"0 0 88px"},children:"\uc0ac\uc5c5\uc790\ubc88\ud638"}),(0,r.jsx)("span",{className:"value",style:{color:"#333"},children:x(e.businessNumber)})]}),(0,r.jsxs)("div",{className:"shop-meta",style:{display:"flex",gap:8,fontSize:14,margin:"4px 0"},children:[(0,r.jsx)("span",{className:"label",style:{width:88,color:"#777",flex:"0 0 88px"},children:"\uc8fc\uc18c"}),(0,r.jsx)("span",{className:"value",style:{color:"#333",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.address||"-"})]}),(0,r.jsxs)("div",{className:"shop-meta",style:{display:"flex",gap:8,fontSize:14,margin:"4px 0"},children:[(0,r.jsx)("span",{className:"label",style:{width:88,color:"#777",flex:"0 0 88px"},children:"\uc88c\ud45c"}),(0,r.jsx)("span",{className:"value",style:{color:"#333"},children:null!=e.latitude&&null!=e.longitude?"".concat(e.latitude,", ").concat(e.longitude):"-"})]})]},e.id);var s})})]})}function o(){return(0,r.jsx)("div",{"data-app":"manage-shop",children:(0,r.jsxs)(l.BV,{children:[(0,r.jsx)(l.qh,{index:!0,element:(0,r.jsx)(d,{})}),(0,r.jsx)(l.qh,{path:"*",element:(0,r.jsx)(l.C5,{to:".",replace:!0})})]})})}}}]);
//# sourceMappingURL=66.d2e468e3.chunk.js.map