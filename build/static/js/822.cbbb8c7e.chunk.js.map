{"version":3,"file":"static/js/822.cbbb8c7e.chunk.js","mappings":"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","sources":["features/userMyPage/UserMyPage.js","features/userMyPage/index.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport api from \"../../api\";\r\nimport \"./UserMyPage.css\";\r\n\r\nexport default function MyPage() {\r\n  const outletCtx = useOutletContext();\r\n  const [user, setUser] = useState(outletCtx?.user || null);\r\n\r\n  // 리뷰\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loadingReviews, setLoadingReviews] = useState(false);\r\n\r\n  // 바우처\r\n  const [vouchers, setVouchers] = useState([]);\r\n  const [loadingVouchers, setLoadingVouchers] = useState(false);\r\n  const [voucherFilter, setVoucherFilter] = useState(\"ISSUED\"); // ISSUED | USED | EXPIRED\r\n\r\n  // 유저\r\n  const [loadingUser, setLoadingUser] = useState(!outletCtx?.user);\r\n\r\n  const email = user?.email || \"\";\r\n  const initial = (user?.name || user?.email || \"U\").toString().slice(0, 1).toUpperCase();\r\n  const displayName = user?.username || user?.name || user?.email || \"사용자\";\r\n\r\n  // 유저 확보\r\n  useEffect(() => {\r\n    let alive = true;\r\n    (async () => {\r\n      try {\r\n        if (outletCtx?.user) {\r\n          if (alive) {\r\n            setUser(outletCtx.user);\r\n            setLoadingUser(false);\r\n          }\r\n          return;\r\n        }\r\n        setLoadingUser(true);\r\n        const { data } = await api.get(\"/itda/me\");\r\n        if (alive) setUser(data || null);\r\n      } catch {\r\n        if (alive) setUser(null);\r\n      } finally {\r\n        if (alive) setLoadingUser(false);\r\n      }\r\n    })();\r\n    return () => { alive = false; };\r\n  }, [outletCtx?.user]);\r\n\r\n  // 리뷰 로드\r\n  useEffect(() => {\r\n    if (!user?.id) return;\r\n    let alive = true;\r\n    (async () => {\r\n      try {\r\n        setLoadingReviews(true);\r\n        const { data } = await api.get(\"/itda/reviews\", { params: { userId: user.id } });\r\n        if (alive) setReviews(Array.isArray(data) ? data : data?.items || []);\r\n      } catch {\r\n        if (alive) setReviews([]);\r\n      } finally {\r\n        if (alive) setLoadingReviews(false);\r\n      }\r\n    })();\r\n    return () => { alive = false; };\r\n  }, [user?.id]);\r\n\r\n  // 바우처 로드 함수\r\n  const fetchVouchers = async (filter) => {\r\n    if (!user?.id) return;\r\n    setLoadingVouchers(true);\r\n    try {\r\n      const { data } = await api.get(\"/itda/me/vouchers\", {\r\n        params: { filter: (filter || voucherFilter) || \"ISSUED\" },\r\n      });\r\n      const list = Array.isArray(data) ? data : data?.items || [];\r\n\r\n      // 응답 필드 정규화\r\n      const normalized = list.map((v) => {\r\n        const storeName = v.storeName || v.store?.name || \"\";\r\n        const title = v.title || v.name || \"바우처\";\r\n        const id = v.id ?? v.voucherId ?? v.uuid ?? v.code;\r\n        const status = (v.status || filter || \"ISSUED\").toString().toUpperCase();\r\n        const start = v.startAt || v.startDate || v.validFrom || v.validFromAt || null;\r\n        const end   = v.endAt   || v.endDate   || v.validTo   || v.validToAt   || null;\r\n        return { ...v, id, storeName, title, status, start, end };\r\n      });\r\n\r\n      setVouchers(normalized);\r\n    } catch {\r\n      setVouchers([]);\r\n    } finally {\r\n      setLoadingVouchers(false);\r\n    }\r\n  };\r\n\r\n  // 바우처 로드 (필터 변경/유저 준비 후)\r\n  useEffect(() => {\r\n    if (!user?.id) return;\r\n    fetchVouchers(voucherFilter);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user?.id, voucherFilter]);\r\n\r\n  // 상태 라벨/칩 클래스\r\n  const statusMeta = useMemo(() => ({\r\n    ISSUED:  { label: \"발급됨\",  chip: \"success\" },\r\n    USED:    { label: \"사용됨\",  chip: \"warn\" },\r\n    EXPIRED: { label: \"만료됨\",  chip: \"muted\" },\r\n  }), []);\r\n\r\n  const fmtDate = (d) => {\r\n    if (!d) return \"-\";\r\n    try {\r\n      const dt = new Date(d);\r\n      if (!isNaN(dt)) return dt.toISOString().slice(0, 10);\r\n    } catch {}\r\n    return String(d).slice(0, 10);\r\n  };\r\n\r\n  // 바우처 사용 처리\r\n  const handleUseVoucher = async (voucherId) => {\r\n    if (!voucherId) return;\r\n    if (!window.confirm(\"이 바우처를 사용 처리하시겠습니까?\")) return;\r\n\r\n    try {\r\n      await api.patch(`/itda/me/vouchers/${voucherId}/use`);\r\n      // 성공 후 목록 갱신 (현재 필터 유지)\r\n      fetchVouchers();\r\n    } catch (e) {\r\n      const msg = e?.response?.data?.message || e?.message || \"사용 처리 중 오류가 발생했습니다.\";\r\n      alert(msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mypage-root\">\r\n      {/* 헤더 */}\r\n      <header className=\"mypage-header\">\r\n        <div className=\"logo-text\">리뷰어 마이페이지</div>\r\n\r\n        <div className=\"mypage-user\">\r\n          <div className=\"mypage-user-meta\">\r\n            <span className=\"mypage-user-name\">{displayName}</span>\r\n            {email && <span className=\"mypage-user-mail\">{email}</span>}\r\n          </div>\r\n          <div className=\"mypage-avatar\" aria-hidden>{initial}</div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* 메인 */}\r\n      <main className=\"mypage-main\">\r\n        {/* 리뷰 섹션 */}\r\n        <section className=\"mypage-section\" aria-label=\"리뷰 목록\">\r\n          <div className=\"mypage-section-head\">\r\n            <h2 className=\"mypage-section-title\">리뷰 목록</h2>\r\n          </div>\r\n\r\n          <div className=\"mypage-list\">\r\n            {loadingReviews ? (\r\n              <>\r\n                <div className=\"mypage-card mypage-skeleton\" />\r\n                <div className=\"mypage-card mypage-skeleton\" />\r\n              </>\r\n            ) : reviews.length === 0 ? (\r\n              <div className=\"mypage-empty\">아직 작성한 리뷰가 없습니다.</div>\r\n            ) : (\r\n              reviews.map((review) => (\r\n                <article key={review.id} className=\"mypage-card\">\r\n                  {/* 가게 정보 */}\r\n                  <div className=\"mypage-store\">\r\n                    <div className=\"mypage-store-thumb\" aria-hidden>📷</div>\r\n                    <div className=\"mypage-store-info\">\r\n                      <div className=\"mypage-store-name\">{review.storeName}</div>\r\n                      {review.address && (\r\n                        <div className=\"mypage-store-addr\" title={review.address}>\r\n                          {review.address}\r\n                        </div>\r\n                      )}\r\n                      {review.category && (\r\n                        <div className=\"mypage-store-cat\">{review.category}</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* 리뷰 내용 */}\r\n                  <div className=\"mypage-review\">\r\n                    <div className=\"mypage-avatar sm\" aria-hidden>👤</div>\r\n                    <div className=\"mypage-review-body\">\r\n                      <div className=\"mypage-review-meta\">\r\n                        <span className=\"mypage-review-author\">{displayName}</span>\r\n                        {review.date && <time className=\"mypage-review-date\">{review.date}</time>}\r\n                      </div>\r\n                      {review.text && <p className=\"mypage-review-text\">{review.text}</p>}\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              ))\r\n            )}\r\n          </div>\r\n        </section>\r\n\r\n        {/* 바우처 섹션 */}\r\n        <section className=\"mypage-section\" aria-label=\"바우처 목록\">\r\n          <div className=\"mypage-section-head\">\r\n            <h2 className=\"mypage-section-title\">바우처 목록</h2>\r\n\r\n            {/* 필터 탭 */}\r\n            <div className=\"mypage-tabs\" role=\"tablist\" aria-label=\"바우처 상태 필터\">\r\n              {[\"ISSUED\", \"USED\", \"EXPIRED\"].map((key) => (\r\n                <button\r\n                  key={key}\r\n                  type=\"button\"\r\n                  className={`mypage-tab ${voucherFilter === key ? \"active\" : \"\"}`}\r\n                  role=\"tab\"\r\n                  aria-selected={voucherFilter === key}\r\n                  onClick={() => setVoucherFilter(key)}\r\n                >\r\n                  {statusMeta[key]?.label || key}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mypage-list\">\r\n            {loadingVouchers ? (\r\n              <>\r\n                <div className=\"mypage-card mypage-skeleton\" />\r\n                <div className=\"mypage-card mypage-skeleton\" />\r\n              </>\r\n            ) : vouchers.length === 0 ? (\r\n              <div className=\"mypage-empty\">해당 상태의 바우처가 없습니다.</div>\r\n            ) : (\r\n              vouchers.map((v) => {\r\n                const meta = statusMeta[v.status] || statusMeta.ISSUED;\r\n                return (\r\n                  <article key={v.id} className=\"mypage-card mypage-reward\">\r\n                    <div className={`mypage-chip ${meta.chip}`}>{meta.label}</div>\r\n\r\n                    <div className=\"mypage-reward-body\">\r\n                      <div className=\"mypage-reward-title\">\r\n                        {v.storeName ? `[${v.storeName}] ` : \"\"}{v.title}\r\n                      </div>\r\n                      <div className=\"mypage-reward-period\">\r\n                        사용기간: {fmtDate(v.start)} ~ {fmtDate(v.end)}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* ISSUED 상태에서만 사용 버튼 노출 */}\r\n                    {v.status === \"ISSUED\" && (\r\n                      <div style={{ marginLeft: \"auto\" }}>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"mypage-btn use\"\r\n                          onClick={() => handleUseVoucher(v.id)}\r\n                          title=\"바우처 사용 처리\"\r\n                        >\r\n                          사용 처리\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </article>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport UserMyPage from \"./UserMyPage\";\r\n\r\nexport default function MapFeature() {\r\n  return (\r\n    <div data-app=\"map\">\r\n      <Routes>\r\n        <Route index element={<UserMyPage />} />\r\n        <Route path=\"*\" element={<Navigate to=\".\" replace />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["MyPage","outletCtx","useOutletContext","user","setUser","useState","reviews","setReviews","loadingReviews","setLoadingReviews","vouchers","setVouchers","loadingVouchers","setLoadingVouchers","voucherFilter","setVoucherFilter","loadingUser","setLoadingUser","email","initial","name","toString","slice","toUpperCase","displayName","username","useEffect","alive","data","api","_unused","id","params","userId","Array","isArray","items","_unused2","fetchVouchers","async","filter","normalized","map","v","_v$store","_ref","_ref2","_v$id","storeName","store","title","voucherId","uuid","code","status","start","startAt","startDate","validFrom","validFromAt","end","endAt","endDate","validTo","validToAt","_objectSpread","_unused3","statusMeta","useMemo","ISSUED","label","chip","USED","EXPIRED","fmtDate","d","dt","Date","isNaN","toISOString","_unused4","String","_jsxs","className","children","_jsx","_Fragment","length","review","address","category","date","text","role","key","_statusMeta$key","type","concat","onClick","meta","style","marginLeft","window","confirm","e","_e$response","_e$response$data","msg","response","message","alert","handleUseVoucher","MapFeature","Routes","Route","index","element","UserMyPage","path","Navigate","to","replace"],"sourceRoot":""}